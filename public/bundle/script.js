(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function o(t,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,(void 0,r=function(t,n){if("object"!==e(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var a=o.call(t,"string");if("object"!==e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(a.key),"symbol"===e(r)?r:String(r)),a)}var r}var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var n,a;return n=e,a=[{key:"init",value:function(t){document.body.style.overflow="hidden";var n=document.createElement("div");n.id="whois-lookup-shadow-host",n.attachShadow({mode:"open"}),document.getElementsByTagName("body")[0].appendChild(n),n.shadowRoot&&(e.shadowRoot=n.shadowRoot);var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.href=chrome.runtime.getURL("/bundle/main.css"),e.shadowRoot.appendChild(o);var a=document.createElement("div");a.id="whois-lookup-container",a.classList.add("overlay-container","fade-entry-anime","flex-layout","flex-dir-col","justify-space-between"),e.shadowRoot.appendChild(a);var r=document.createElement("div");r.classList.add("modal-container","flex-layout","flex-dir-col","justify-space-between"),r.appendChild(e.getHeaderElement()),r.appendChild(e.getBodyElement()),r.appendChild(e.getFooterElement(t)),a.appendChild(r)}},{key:"getHeaderElement",value:function(){var e=document.createElement("div");e.classList.add("modal-header","flex-layout","flex-dir-col","row-gap-5");var t=document.createElement("h2");t.classList.add("bold-text","text-primary"),t.textContent="Domain information";var n=document.createElement("h5");return n.classList.add("text-secondary"),n.textContent=window.location.hostname,e.append(t,n),e}},{key:"getBodyElement",value:function(){return e.bodyElement=document.createElement("div"),e.bodyElement.classList.add("modal-body","flex-layout","flex-dir-col","justify-center","items-center","row-gap-10"),e.bodyElement.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" style=\'stroke: var(--whois-lookup-primary-color);\' stroke-linecap="round" stroke-width="2"><path stroke-dasharray="60" stroke-dashoffset="60" stroke-opacity=".3" d="M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="1.3s" values="60;0"/></path><path stroke-dasharray="15" stroke-dashoffset="15" d="M12 3C16.9706 3 21 7.02944 21 12"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.3s" values="15;0"/><animateTransform attributeName="transform" dur="1.5s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"/></path></g></svg>',e.bodyElement}},{key:"getFooterElement",value:function(t){var n=document.createElement("div");n.classList.add("modal-footer","flex-layout","justify-center");var o=document.createElement("button");return o.innerHTML="Got it",o.onclick=function(){e.shadowRoot.host.remove(),document.body.style.overflow="auto",t()},n.appendChild(o),n}},{key:"getUISection",value:function(e,t){var n=document.createElement("div");n.classList.add("section-div","flex-layout","flex-dir-col");var o=document.createElement("h5");o.classList.add("text-secondary"),o.innerHTML=e;var a=document.createElement("h3");return a.classList.add("text-primary","bold-text"),a.innerHTML=t,n.append(o,a),n}},{key:"getDetailsTag",value:function(n,o){var a=document.createElement("details");a.classList.add("detail-tag","width-100");var r=document.createElement("summary");r.classList.add("bold-text","text-secondary"),r.innerHTML=n;var i=document.createElement("div");return i.classList.add("flex-layout","flex-wrap","col-gap-10","row-gap-10"),i.append.apply(i,t(Object.keys(o).map((function(t){return e.getUISection(t,o[t])})))),a.append(r,i),a}},{key:"combineSections",value:function(e){var n=document.createElement("div");return n.classList.add("flex-layout","flex-dir-col","width-100"),n.append.apply(n,t(e)),n}},{key:"loadData",value:function(n){var o=e.combineSections([e.getUISection("Created on",new Date(n.create_date).toUTCString()),e.getUISection("Updated on",new Date(n.update_date).toUTCString()),e.getUISection("Expire on",new Date(n.expire_date).toUTCString())]),a=e.combineSections([e.getUISection("Domain ID",n.domain_id),e.getUISection("Domain age (days)",n.domain_age.toString())]),r=e.combineSections([].concat(t(function(t){return t.length?t.map((function(t,n){return e.getUISection("Nameserver #".concat(n+1),t)})):[]}(n.nameservers)),[e.getUISection("Whois server",n.whois_server)])),i=e.getDetailsTag("Admin details",n.admin),l=e.getDetailsTag("Billing details",n.billing),d=e.getDetailsTag("Registrar details",n.registrar),s=e.getDetailsTag("Tech details",n.tech),c=e.getDetailsTag("Registrant details",n.registrant);e.bodyElement.innerHTML="",e.bodyElement.append(o,a,r,i,l,d,c,s)}},{key:"loadError",value:function(){var t=document.createElement("h4");t.classList.add("text-secondary","text-center"),e.bodyElement.appendChild(t)}}],null&&o(n.prototype,null),a&&o(n,a),Object.defineProperty(n,"prototype",{writable:!1}),e}();function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var i=null;chrome.runtime.onMessage.addListener((function(e,t,n){console.log(7,e,i),"init-modal-ui"===e.status&&(i||(i=chrome.runtime.connect({name:"connect"})),a.init((function(){null==i||i.postMessage({status:"close-extension"}),i=null})),i.onMessage.addListener((function(e,t){console.log(31,e),"load-domain-info"===e.status&&("object"===r(e.data)?a.loadData(e.data):a.loadError())})))}))})();
//# sourceMappingURL=script.js.map